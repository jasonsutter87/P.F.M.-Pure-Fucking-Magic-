<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>PFM Icon Generator</title>
<style>
  body { font-family: system-ui; background: #1a1a2e; color: #e6e6e6; padding: 40px; text-align: center; }
  canvas { border: 1px solid #444; margin: 10px; }
  .row { display: flex; gap: 20px; justify-content: center; align-items: end; margin: 20px 0; }
  button { background: #58a6ff; color: #000; border: none; padding: 10px 24px; border-radius: 6px; cursor: pointer; font-size: 14px; }
  button:hover { background: #79c0ff; }
  .instructions { color: #7d8590; margin-top: 20px; font-size: 13px; }
</style>
</head>
<body>
<h1>PFM Chrome Extension Icon Generator</h1>
<p>Click "Generate & Download" to create all icon sizes.</p>

<div class="row">
  <div>
    <div>16x16</div>
    <canvas id="c16" width="16" height="16"></canvas>
  </div>
  <div>
    <div>48x48</div>
    <canvas id="c48" width="48" height="48"></canvas>
  </div>
  <div>
    <div>128x128</div>
    <canvas id="c128" width="128" height="128"></canvas>
  </div>
</div>

<button onclick="generateAndDownload()">Generate & Download All</button>

<div class="instructions">
  <p>Open this file in Chrome, click the button, save the downloaded PNGs into the <code>icons/</code> folder.</p>
</div>

<script>
function drawIcon(canvas) {
  const s = canvas.width;
  const ctx = canvas.getContext('2d');

  // Background â€” rounded rect with gradient
  const grad = ctx.createLinearGradient(0, 0, s, s);
  grad.addColorStop(0, '#1a1a2e');
  grad.addColorStop(1, '#16213e');
  const r = s * 0.15;
  ctx.beginPath();
  ctx.moveTo(r, 0);
  ctx.lineTo(s - r, 0);
  ctx.quadraticCurveTo(s, 0, s, r);
  ctx.lineTo(s, s - r);
  ctx.quadraticCurveTo(s, s, s - r, s);
  ctx.lineTo(r, s);
  ctx.quadraticCurveTo(0, s, 0, s - r);
  ctx.lineTo(0, r);
  ctx.quadraticCurveTo(0, 0, r, 0);
  ctx.closePath();
  ctx.fillStyle = grad;
  ctx.fill();

  // Border glow
  ctx.strokeStyle = '#58a6ff44';
  ctx.lineWidth = Math.max(1, s * 0.02);
  ctx.stroke();

  // "PFM" text
  const fontSize = s * 0.32;
  ctx.font = `bold ${fontSize}px -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif`;
  ctx.textAlign = 'center';
  ctx.textBaseline = 'middle';

  // Text gradient
  const textGrad = ctx.createLinearGradient(s * 0.2, s * 0.3, s * 0.8, s * 0.7);
  textGrad.addColorStop(0, '#58a6ff');
  textGrad.addColorStop(1, '#bc8cff');
  ctx.fillStyle = textGrad;
  ctx.fillText('PFM', s / 2, s * 0.45);

  // Sparkle accent
  const sparkleSize = s * 0.08;
  ctx.font = `${sparkleSize}px serif`;
  ctx.fillStyle = '#ffcc00';
  ctx.fillText('\u2728', s * 0.78, s * 0.25);

  // Subtitle ".pfm" for larger icons
  if (s >= 48) {
    const subSize = s * 0.13;
    ctx.font = `${subSize}px -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif`;
    ctx.fillStyle = '#7d8590';
    ctx.fillText('.pfm', s / 2, s * 0.72);
  }
}

function generateAndDownload() {
  [16, 48, 128].forEach(size => {
    const canvas = document.getElementById('c' + size);
    drawIcon(canvas);

    // Download
    const link = document.createElement('a');
    link.download = 'icon' + size + '.png';
    link.href = canvas.toDataURL('image/png');
    link.click();
  });
}

// Draw previews on load
window.onload = () => {
  [16, 48, 128].forEach(size => drawIcon(document.getElementById('c' + size)));
};
</script>
</body>
</html>
